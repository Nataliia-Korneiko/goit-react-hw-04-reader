{"version":3,"sources":["components/Controls/controls.module.css","components/Reader/reader.module.css","components/Counter/counter.module.css","components/Publication/publication.module.css","components/Controls/Controls.js","components/Counter/Counter.js","components/Publication/Publication.js","components/Reader/Reader.js","components/App.js","index.js"],"names":["module","exports","Controls","onDecrement","onIncrement","disabledPrev","disabledNext","className","s","controls","disabled","onClick","type","button","Counter","currentIndex","maxIndex","counter","defaultProps","Publication","title","text","publication","Reader","handleDecrement","props","location","history","page","URLSearchParams","search","get","push","pathname","Number","handleIncrement","this","items","length","replace","index","console","log","reader","Component","App","state","path","render","publications","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8d867118.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__-nQ4t\",\"button\":\"controls_button__2HjFp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"reader_reader__13_cI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"counter_counter__1TgKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"publication_publication__1_nqJ\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './controls.module.css';\n\nconst Controls = ({ onDecrement, onIncrement, disabledPrev, disabledNext }) => (\n  <section className={s.controls}>\n    <button\n      disabled={disabledPrev}\n      onClick={onDecrement}\n      type=\"button\"\n      className={s.button}\n    >\n      Назад\n    </button>\n    <button\n      disabled={disabledNext}\n      onClick={onIncrement}\n      type=\"button\"\n      className={s.button}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  onDecrement: PropTypes.func.isRequired,\n  onIncrement: PropTypes.func.isRequired,\n  disabledPrev: PropTypes.bool.isRequired,\n  disabledNext: PropTypes.bool.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './counter.module.css';\n\nconst Counter = ({ currentIndex, maxIndex }) => (\n  <p className={s.counter}>\n    {currentIndex}/{maxIndex}\n  </p>\n);\n\nCounter.defaultProps = {\n  currentIndex: 0,\n  maxIndex: 0,\n};\n\nCounter.propTypes = {\n  currentIndex: PropTypes.number,\n  maxIndex: PropTypes.number,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './publication.module.css';\n\nconst Publication = ({ title, text }) => (\n  <article className={s.publication}>\n    <h2>{title}</h2>\n    <p>{text}</p>\n  </article>\n);\n\nPublication.defaultProps = {\n  title: '',\n  text: '',\n};\n\nPublication.propTypes = {\n  title: PropTypes.string,\n  text: PropTypes.string,\n};\n\nexport default Publication;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './reader.module.css';\nimport Controls from '../Controls/Controls';\nimport Counter from '../Counter/Counter';\nimport Publication from '../Publication/Publication';\n\nexport default class Reader extends Component {\n  static defaultProps = {\n    items: [],\n  };\n\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        title: PropTypes.string,\n        text: PropTypes.string,\n      }),\n    ),\n  };\n\n  componentDidMount() {\n    const { items, location, history } = this.props;\n    const page = new URLSearchParams(location.search).get('item');\n\n    if (!page || Number(page) > items.length) {\n      history.replace({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n\n    // if null replace with history string ?item=1\n  }\n\n  handleDecrement = () => {\n    // this.setState(prevState => ({ index: prevState.index - 1 }));\n    const { location, history } = this.props;\n    const page = new URLSearchParams(location.search).get('item');\n    history.push({\n      pathname: location.pathname,\n      search: `item=${Number(page) - 1}`,\n    });\n  };\n\n  handleIncrement = () => {\n    // this.setState(prevState => ({ index: prevState.index + 1 }));\n    const { location, history } = this.props;\n    const page = new URLSearchParams(location.search).get('item');\n    history.push({\n      pathname: location.pathname,\n      search: `item=${Number(page) + 1}`,\n    });\n  };\n\n  render() {\n    const { items, location } = this.props;\n    const page = Number(new URLSearchParams(location.search).get('item'));\n    const index = page > items.length ? 0 : page - 1;\n    console.log('index', index);\n\n    const maxIndex = items.length;\n    const currentIndex = index + 1;\n    const disabledPrev = index === 0;\n    const disabledNext = index === maxIndex - 1;\n\n    // console.log('index', index);\n\n    return (\n      <div className={s.reader}>\n        <Controls\n          onDecrement={this.handleDecrement}\n          onIncrement={this.handleIncrement}\n          disabledPrev={disabledPrev}\n          disabledNext={disabledNext}\n        />\n        <Counter currentIndex={currentIndex} maxIndex={maxIndex} />\n        <Publication title={items[index].title} text={items[index].text} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport Reader from './Reader/Reader';\nimport publications from './publications.json';\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <Switch>\n          <Route\n            path=\"/\"\n            render={props => <Reader {...props} items={publications} />}\n          />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}